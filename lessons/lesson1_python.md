# Программирование
Программирование - это когда мы объясняем компьютеру, что нам от него нужно на понятном ему языке. Например, в нашем случае нам нужно создать компьютерную игру. Мы должны рассказать компьютеру:
- как мы будем считывать сигналы от игрока (клавиатура, мышь, джойстик)
- что должно появляться у него на экране в результате (или независимо от) его действий
- что должно звучать у него с колонок в процессе игры

Представим, что мы хотим нарисовать белый квадрат на черном фоне, который будет ползать по экрану если мы будем нажимать стрелки.

Писать мы будем на языке python версии 3 с использованием библиотеки pygame.

```python
#!/usr/bin/env python3
import pygame # команда говорит языку python вытащить БИБЛИОТЕКУ pygame в наш код
import sys    # эта библиотека нужна чтобы выключить игру

pygame.init() # включаем pygame

width = 320  # создаем численную переменную с именем width(ширина). кладем туда 320
height = 240 # создаем численную переменную с именем height(высота). кладем туда 240
size = (width, height) # создаем переменную с именем size(размер), куда кладем МАССИВ из двух элементов - ширины и высоты.
                       # это нужно нам чтобы сказать что размер нашего экрана 240 на 320

black = (0, 0, 0)       # это код черного цвета. Представлен массивом из 3-х чисел. Кто нибудь слышал про RGB?
                        # цифры для любого другого цвета можно подобрать тут 
white = (255, 255, 255) # это код белого цвета.

screen = pygame.display.set_mode(size) # создаем экран, передаем ему размер. В этот момент на мониторе должен появится черный квадратик.

rect = pygame.Rect(0, 0, 20, 20) # создаем прямоугольник. Говорим что он находится в координатах x=0, y=0
                                 # и имеет ширину и высоту по 20 пикселей.

while True: # запускаем бесконечный ЦИКЛ
    screen.fill(black) # закрашиваем экран черным цветом
    for event in pygame.event.get():  # забираем все события ввода с устройств ввода - мыши и клавиатуры.
                                      # Кстати, тоже используем цикл, но другой.
        print(event)                  # печатаем их в консоль
         if event.type == pygame.QUIT: # если событие - нажатие на крестик мышью
            sys.exit()                # то выключаем игру
        elif event.type == pygame.KEYDOWN:   # если событие - нажатие на клавишу
            if event.key == pygame.K_RIGHT:  # если эта клавиша - стрелка вправо
                rect = rect.move(1,0)        # то говорим что прямоугольник подвинулся на 1 по оси x (вправо)
                                             # и на 0 по оси y (не двигался)
            elif event.key == pygame.K_LEFT: # иначе если эта клавиша - стрелка влево
                rect = rect.move(-1, 0)      # то говорим что прямоугольник подвинулся на -1 по оси x (влево)
                                             # и на 0 пикселей по оси y (не двигался)
            elif event.key == pygame.K_UP:   # иначе если эта клавиша - стрелка вверх
                rect = rect.move(0, -1)      # то говорим что прямоугольник подвинулся на 0 по оси x (на месте)
                                             # и на -1 по оси y (вверх)
            elif event.key == pygame.K_DOWN: # иначе если эта клавиша - стрелка вниз
                rect = rect.move(0, 1)       # то говорим что прямоугольник подвинулся на 0 по оси x (на месте)
                                             # и на 1 по оси у (вниз)

    pygame.draw.rect(screen, white, rect)    # и теперь отрисовываем прямоугольник
    pygame.display.flip()                    # обновляем экран, и начинается следующий виток цикла, со строки 20
```

Игра - приключения белого квадрата в черном ничто. Сорок две строки кода. И каждая строка не шире тетрадного листа. Как сочинение написать. Но python будет проверять вашу работу гораздо внимательнее, чем ваш преподаватель по русскому.
Файл с кодом находится в директории [scripts/lesson1](../scripts/lesson1/rectangle.py).


## Задания

### Простые
- сделать так, чтобы на клавишу Space менялся местами цвет фона и квадрата 
- сделать, чтобы квадрат появлялся в центре
- сделать, чтобы на клавишу PgUp квадрат увеличивался, а на клавишу PgDown уменьшался

### Сложнее
- сделать движение квадрата непрeрывным
- сделать движение с ускорением
- сделать, чтобы квадрат касаясь какого-то из краев карты появлялся на противоположном


## Справочный раздел

Этот раздел лучше прочтитать, чтобы понять что вообще происходит в коде. И чем язык компьютеров отличается от обычного языка.
Штуки из этого кода, которые есть в большинстве языков программирования:
- переменные
- массивы
- условия
- циклы
- свойства
- вызовы и методы
- комментарии
- ошибки(в коде их нет, но скоро вы сделаете их сами)

### Переменные
Это значения, связанные в программе с каким то именем. Например:
```python
width = 320
teacher_name = 'artem'
teacher_age = 27
teacher_work = 'python programmer'
teacher_hobbies = ['haskell', 'kettlells', 'boring mumbling']
```
Слева от `=` имя, справа значение. Значение переменных меняется. Переменные хранят состояние. Например ВКонтакте знает мою дату рождения. Сейчас на стороне ВКонтакте какая-то переменная хранит мой возраст. Когда у меня будет ДР, внутренние алгоритмы ВКонтакте найдут эту переменную и прибавят ей единичку. В играх переменной может быть выражено например количество хитпоинтов.

[Подробнее тут](https://younglinux.info/python/variable.php)

### Массивы
Массив это множество значений. Например:
```python
black = (0, 0, 0)
months = ['декабрь', 'январь', 'февраль', 'март', 'апрель', 'май', 'июнь', 'июль', 'август', 'сентябрь', 'октябрь', 'ноябрь']
rouble_nominals = [1, 2, 5, 10, 50, 100, 200, 500, 1000, 2000, 5000]
peoples_bithday = {
    'Александр Невский': '1221-05-13',
    'Иван Грозный': '1530-08-25',
    'Пётр I': '1672-05-30'
}
```
Как вы видели в коде выше, цвет задавался массивом из трех цифр. Массивы бывают:
1. изменяемые/не изменяемые (мутабельные/иммутабельные)
2. ассоциативные/не ассоциативные
3. плоские/вложенные

Когда они нам понадобятся я покажу. Самостоятельно можно прочитать [тут](https://younglinux.info/python/list.php) или [тут](https://ru.wikibooks.org/wiki/Python/%D0%A3%D1%87%D0%B5%D0%B1%D0%BD%D0%B8%D0%BA_Python_3.1#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85).


### Условия
Механизм, с помощью которого можно контроллировать ход выполнения программы. Пример из кода выше:
```python
        if event.type == pygame.QUIT: # если событие - нажатие на крестик мышью
            sys.exit()                # то выключаем игру
        elif event.type == pygame.KEYDOWN:   # если событие - нажатие на клавишу
            if event.key == pygame.K_RIGHT:  # если эта клавиша - стрелка вправо
                rect = rect.move(1,0)        # то говорим что прямоугольник подвинулся на 1 по оси x (вправо)
                                             # и на 0 по оси y (не двигался)
            elif event.key == pygame.K_LEFT: # иначе если эта клавиша - стрелка влево
                rect = rect.move(-1, 0)      # то говорим что прямоугольник подвинулся на -1 по оси x (влево)
                                             # и на 0 пикселей по оси y (не двигался)
            elif event.key == pygame.K_UP:   # иначе если эта клавиша - стрелка вверх
                rect = rect.move(0, -1)      # то говорим что прямоугольник подвинулся на 0 по оси x (на месте)
                                             # и на -1 по оси y (вверх)
            elif event.key == pygame.K_DOWN: # иначе если эта клавиша - стрелка вниз
                rect = rect.move(0, 1)       # то говорим что прямоугольник подвинулся на 0 по оси x (на месте)
```

Тут использованы два условных оператора `if` и `elif`. Еще существует оператор `else`.
- `if` - означает `если` 
- `elif` - означает `иначе если`
- `else` - означает `иначе`

Блок кода внутри условия отображается отступами. Например код на python:
```python
if eggs_in_refregerator == 0:
    go_to_market()
elif eggs_in_refregerator <= 10:
    take_all_eggs()
    make_charlotte()
else:
    take_eggs(10)
    make_charlotte()
```

можно перевести на русский как:
```
Если в холодильнике 0 яиц - сходить в магазин, иначе если меньше 10 яиц - взять все яйца и сделать шарлотку, иначе взять 10 яиц и сделать шарлотку.
```
Для сравнения значений обычно используются операторы 
- `==` - равно
- `>`  - больше
- `<`  - меньше
- `>=` - больше или равно
- `<=` - меньше или равно

Почти как в математике.

### Циклы
Цикл это что-то, что повторяется от 0 раз (то есть не происходит вообще) до бесконечности. Мы будем использовать 2 цикла - `for` и `while`. И то, цикл `while` нам будет нужен в основном для того, чтобы запускать бесконечные циклы. Например:
```python
while True:
    print('Зачем ты заставляешь меня это печатать!?')
```

заставит программу печатать на экран фразу "Зачем ты заставляешь меня это печатать!?" до тех пор, пока мы её не прервем.

Цикл `for` предназаначен для того, чтобы обходить массивы. Пример:
```python
for month in ['декабрь', 'январь', 'февраль', 'март', 'апрель', 'май', 'июнь', 'июль', 'август', 'сентябрь', 'октябрь', 'ноябрь']:
    print(month) # Переменная month принимает по очереди все значения из списка и печатается на экран
```
 
### Свойства
Когда видите что-то вроде:
```
event.type
event.key
```

то читать это надо примерно как `переменная.свойство`. То есть в примере выше мы видим что у переменной `event` есть свойства `type` и `key`. Это тоже переменные, но они как бы внутри других переменных.
 
### Вызовы и методы 
... а если cвойство оканчивается круглыми скобками как тут:

```python
pygame.init()

screen = pygame.display.set_mode(size)

rect = pygame.Rect(0, 0, 20, 20)

screen.fill(black)

sys.exit()

for event in pygame.event.get()
```

то знайте, что произошел вызов. Вызов - это какое-то действие. Например `screen = pygame.display.set_mode(size)` создает экран и кладет его в переменную screen, `rect = pygame.Rect(0, 0, 20, 20)` создает прямоугольник и кладет в переменную rect, `sys.exit()` выключает программу, а `pygame.event.get()` забирает все события с клавиатуры и мыши. Какие действия есть у данной переменной и как все это работает как правило написано в документации тех библиотек, которые вы используете.

Список методов и свойств переменной можно получить используя встроенную функцию dir.
```python
a = 6
dir(a)
```

### Комментарии
Комментарий это пояснение прямо в коде. Это такой же текст как и код, но языку прогрммирования указано, что его нужно игнорировать. Однострочные комментарии в python обозначаются символом `#`. Python игнорирует строку начиная с этого символа.

```python
это_еще_код # а это уже комментарий
```

### Ошибки

Когда python не может понять, что вы написали, он говорит об этом с помощью ошибок. Например:
```python
In [1]: кракозябра                                                                                                                        ---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-1-316bd5026d14> in <module>
----> 1 кракозябра

NameError: name 'кракозябра' is not defined

```
В данном случае мы написали python-у фразу `кракозябра`, он попытался понять это как имя переменной, не нашел у себя такого имени и выдал ошибку об этом. В процессе разработки игры мы столкнемся с самыми разными ошибками, я буду объяснять что они означают в процессе.


## Дополнительные ресурсы

- [конвертер цветов в цифры](https://colorscheme.ru/color-converter.html)
- [какое событие какой клавише соответствует](https://www.pygame.org/docs/ref/key.html)
- [более подробный курс по языку python](https://younglinux.info/python.php) и [более подробный курс по pygame](https://younglinux.info/pygame)
- [справочник по python3](https://ru.wikibooks.org/wiki/Python/%D0%A3%D1%87%D0%B5%D0%B1%D0%BD%D0%B8%D0%BA_Python_3.1)
